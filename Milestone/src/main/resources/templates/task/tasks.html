<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layouts/defaultTemplate">

<head>
	<title th:text="${title}">Page Title</title>
	<link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

<body layout:fragment="content">
	<h2 class="mt-3" th:text="${title}">Title</h2>
	<a class="btn btn-primary mb-3" href="/tasks/new">Add New Task</a>
	<table class="table table-primary">
		<thead>
			<tr>
				<th>Title</th>
				<th>Description</th>
				<th>User</th>
				<th>Due Date</th>
				<th>Priority</th>
				<th>Status</th>
				<th>Edit</th>
				<th>Delete</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="task : ${tasks}">
				<td th:text="${task.title}"></td>
				<td th:text="${task.description}"></td>
				<td th:text="${task.user.username}"></td>
				<td th:text="${task.dueDate}"></td>
				<td th:text="${task.priority}"></td>
				<td th:text="${task.status}"></td>
				<td>
					<a class="btn btn-warning" th:href="@{/tasks/edit/{id}(id=${task.taskId})}">Edit</a>
				</td>
				<td>
					<form th:action="@{/tasks/delete/{id}(id=${task.taskId})}" method="post" style="display:inline;">
						<button class="btn btn-danger" type="submit">Delete</button>
					</form>
				</td>
			</tr>
		</tbody>
	</table>
</body>

</html>